var _this = this;
export var AudioCtx = new AudioContext();
export var platform = (function () {
    var haveGlobal = typeof global === 'object';
    var haveBrowserWindow = typeof _this.window === 'object';
    var browser = haveBrowserWindow && !haveGlobal;
    var node = !browser && haveGlobal && global.constructor.name === 'Object';
    var webpack = !haveBrowserWindow && haveGlobal && global.constructor.name === 'Window';
    var electron = haveBrowserWindow && haveGlobal && global.constructor.name === 'Window';
    return {
        browser: browser,
        node: node,
        electron: electron,
        webpack: webpack,
    };
})();
export function isString(string) {
    return Object.prototype.toString.call(string) === '[object String]';
}
export function isNumber(number) {
    return !Number.isNaN(number) && Object.prototype.toString.call(number) === '[object Number]';
}
export function isObject(object) {
    return Object.prototype.toString.call(object) === '[object Object]';
}
export function isFunction(func) {
    return Object.prototype.toString.call(func) === '[object Function]';
}
export function isClass(classBody) {
    return !isString(classBody) && String(classBody).slice(0, 5) === 'class';
}
export function isUndef(val) {
    return val === undefined || val === null;
}
export function logError(tipHead, infor, err, warn) {
    if (err === void 0) { err = false; }
    if (warn === void 0) { warn = false; }
    var msg = "[" + tipHead + " tip] --> " + infor + ".\n";
    if (err)
        throw Error(msg);
    if (warn)
        return console.warn(msg);
    console.error(msg);
}
export function download(url, filename) {
    if (!isString(url)) {
        url = window.URL.createObjectURL(url);
    }
    var link = window.document.createElement('a');
    link.href = url;
    link.download = filename || 'download.wav';
    var click = document.createEvent('MouseEvents');
    click.initMouseEvent('click', true, true);
    link.dispatchEvent(click);
}
export function inlineWorker(func) {
    if (!window.Worker) {
        this.errorFn('Worker is undefined', true);
    }
    var functionBody = func.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1];
    var url = window.URL.createObjectURL(new window.Blob([functionBody], {
        type: 'text/javascript',
    }));
    return new window.Worker(url);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9saWIvdXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsaUJBeUVDO0FBekVELE1BQU0sQ0FBQyxJQUFNLFFBQVEsR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFBO0FBRTFDLE1BQU0sQ0FBQyxJQUFNLFFBQVEsR0FBRyxDQUFDO0lBQ3ZCLElBQU0sVUFBVSxHQUFHLE9BQU8sTUFBTSxLQUFLLFFBQVEsQ0FBQTtJQUM3QyxJQUFNLGlCQUFpQixHQUFHLE9BQU8sS0FBSSxDQUFDLE1BQU0sS0FBSyxRQUFRLENBQUE7SUFFekQsSUFBTSxPQUFPLEdBQUcsaUJBQWlCLElBQUksQ0FBQyxVQUFVLENBQUE7SUFDaEQsSUFBTSxJQUFJLEdBQUcsQ0FBQyxPQUFPLElBQUksVUFBVSxJQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBSSxLQUFLLFFBQVEsQ0FBQTtJQUMzRSxJQUFNLE9BQU8sR0FBRyxDQUFDLGlCQUFpQixJQUFJLFVBQVUsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUksS0FBSyxRQUFRLENBQUE7SUFDeEYsSUFBTSxRQUFRLEdBQUcsaUJBQWlCLElBQUksVUFBVSxJQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBSSxLQUFLLFFBQVEsQ0FBQTtJQUV4RixNQUFNLENBQUM7UUFDTCxPQUFPLFNBQUE7UUFDUCxJQUFJLE1BQUE7UUFDSixRQUFRLFVBQUE7UUFDUixPQUFPLFNBQUE7S0FDUixDQUFBO0FBQ0gsQ0FBQyxDQUFDLEVBQUUsQ0FBQTtBQUVKLE1BQU0sbUJBQW9CLE1BQVU7SUFDbEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxpQkFBaUIsQ0FBQTtBQUNyRSxDQUFDO0FBRUQsTUFBTSxtQkFBb0IsTUFBVTtJQUNsQyxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1B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